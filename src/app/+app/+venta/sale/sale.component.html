<div class="control">
  <div class="client">
    <h5>Cliente</h5>
    <input-label [(ngModel)]="client_id" name="cliend_id" [type]="'number'" [min]="1"
                 [formControl]="clientIdControl"
                 [required]="true">
      ID de cliente
    </input-label>
    <hr/>
  </div>

  <div class="search">
    <app-find-product (selected-product)="addProduct($event)"
                      [branch_id]="branch_id">
    </app-find-product>
    <hr/>
  </div>

  <div class="finish">
    <input-label [(ngModel)]="payment" name="clientPayment"
                 [type]="'number'" [min]="total" [max]="99999999999" [required]="true">
      Pago
    </input-label>
    <hr>

    <h5>Tipo de pago:</h5>
    <br>
    <div class="btn-group">
      <label *ngFor="let paymentType of paymentTypes"
             class="btn btn-primary" [(ngModel)]="payment_type_id"  name="payment_type_id"
             [btnRadio]="paymentType.value">
        {{paymentType.label}}
      </label>
    </div>
    <input-label *ngIf="payment_type_id == 2"
                 [(ngModel)]="card_payment_id" name="card_payment_id" [required]="true">
      Folio de la transacción electrónica
    </input-label>
    <hr>

    <h5>Imprimir ticket</h5>
    <div class="btn-group">
      <label class="btn btn-primary" [(ngModel)]="print"  name="payment_type_id"
             [btnRadio]="true">
        Si
      </label>
      <label class="btn btn-primary" [(ngModel)]="print"  name="payment_type_id"
             [btnRadio]="false">
        No
      </label>
    </div>
    <hr>

    <div class="btn-group">
      <button
        class="btn btn-success btn-block"
        (click)="confirm()">Finalizar Venta
      </button>

      <button
        class="btn btn-danger btn-block"
        (click)="cancel()">Cancelar Venta
      </button>
    </div>
  </div>
</div>


<div class="products">
  <div class="branch-view" *ngIf="branch">
    <h6>Sucursal</h6>
    <h4>
      {{branch.name}}
    </h4>
  </div>
  <hr>
  <div class="client-view">
    Cliente: <span class="error" *ngIf="client_status">{{client_status}}</span>
    <span *ngIf="!client_status">{{client && client.fullName}}</span>
  </div>
  <hr/>
  <app-product-cart
    [(addedProducts)]="addedProducts"
    [(payment)]="payment"
  ></app-product-cart>
</div>


<sale-confirm-modal (confirmed)="finish()"></sale-confirm-modal>
